## Basic Radare2 Usage

开始时，学习曲线通常比较陡峭。在使用radare2一个小时后，您就应该比较容易理解大部分工具的工作原理，以及如何结合radare2提供的各种工具。我们鼓励您阅读本书的其余部分，以了解一些高级特性，最终提高您的技能。

![learning_curve](learning_curve.png)

定位，检查，和修改已加载的二进制文件，通常对应着三个文件操作：seek（定位到具体位置）， print（缓存）， 和alternate（写入和添加）

"seek"命令缩写为 `s`，接受一个表达式作为参数。这个表达式可以是`10`, `+0x25`, 或者类似`[0x100+ptr_table]`的形式。如果你的分析对象是基于块的文件，可以用`b`对块的大小进行设置，以符合需求。可以用`s++`和`s--`在遵循对齐规则的情况下向前向后遍历文件块。

如果radare2打开的是一个可执行文件，那么默认情况下它将会以虚拟地址（VA）的模式打开它，文件中的节区都会被映射到对应的虚拟地址。在VA模式下，seek是基于VA地址完成的，且起始点将会设置在程序入口点（EP）上。使用 `-n`选项可禁用默认的VA模式，并要求radare2以non-VA模式打开文件，在non-VA模式下， seek操作是基于文件偏移量完成的。

‘print’命令缩写为`p`， 有许多子模块， 后继的第一个字母将设定print的模式。最常用的包括用于打印十六进制格式的`px`， 以及用于打印反汇编结果的`pd`。

如果要对文件进行修改， 需要在radare2打开文件时制定`-w`选项。`w`命令可用于写入字符串、十六进制字节串（`x`子命令），甚至是汇编码（`a`子命令），例如：

```
> w hello world         ; string
> wx 90 90 90 90        ; hexpairs
> wa jmp 0x8048140      ; assemble
> wf inline.bin         ; write contents of file
```

在命令后面加上`？`会显示帮助信息，举个例子：`p?`。
在命令后面加上 `?*` 会显示所有以该命令字符串开头的命令， 比如 `p?*`。

如要进入可视化模式（visual mode），按下`V<Enter>`，按下`q`可以退出可视化模式，返回命令行界面。

在可视化模式内可以用HJKL进行移动（分别代表left，down，up，right）。可以按下`c`键进入光标模式（cursor mode）显示光标，并用HJKL进行移动。在光标模式下，按住`SHIFT`键，配合HJKL可以选中一个区域内的字节。

在可视化模式下，可以按下`i`覆写字节，可以用`TAB`在十六进制字节区与字符串区之间切换。处于十六进制字节区时按下`q`可以返回到可视化模式。通过`p`和`P`两个按键，可以在不同的可视化模式中切换。通过`V!`可以进入一个类似curses面板的可视化模式，它是另一个重要的可视化模式。